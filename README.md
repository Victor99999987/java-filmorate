# Групповой проект команды №1

* * *

## Состав команды:

* Воложанин Виктор **/ тимлид**
* Карпова Елизавета
* Лаптева Евгения
* Жеребцов Артем
* Пожидаев Иван
* Евтюхин Дмитрий

* * *
## Функциональность

### Отзывы
Появилась возможность оставлять отзывы к фильмам.
Характеристики отзыва:
1. Оценка — полезный/бесполезный (пользователи, прочитавшие отзыв, могут оценить его, то есть поставить лайк или дизлайк).
2. Тип отзыва — негативный/позитивный (автор отзыва указывает, является ли его отзыв хвалебным или нет).
3. Рейтинг — полезность отзыва, вычисляется на основе оценок пользователей. Отзывы сортируются по рейтингу.
#### Список появившегося функционала:
1. Добавление нового отзыва. ***POST /reviews***
2. Редактирование имеющегося отзыва. ***PUT /reviews***
3. Удаление отзыва. ***DELETE /reviews/{id}***
4. Получение отзыва по идентификатору. ***GET /reviews/{id}***
5. Получение списка отзывов по идентификатору фильма (если id фильма не указан то возвращаются отзывы с максимальным значением рейтинга). Если не указан размер списка, то по умолчанию это 10. ***GET /reviews?filmId={filmId}&count={count}***
6. Возможность поставить и удалить лайк/дизлайк отзыву, тем самым изменив показатель полезности отзыва. ***PUT /reviews/{id}/like/{userId}; PUT /reviews/{id}/dislike/{userId}; DELETE /reviews/{id}/like/{userId}; DELETE /reviews/{id}/dislike/{userId}***
> Исполнитель: Евтюхин Дмитрий

### Режиссеры
Появилась возможность указывать режиссеров фильмов.
#### Список появившегося функционала:
1. Создание режиссера. ***POST /directors***
2. Изменение режиссера. ***PUT /directors***
3. Получение списка всех фильмов режиссера в порядке убывания лайков. ***GET /films/director/{directorId}?sortBy=likes***
4. Получение списка всех фильмов режиссера в хронологическом порядке. ***GET /films/director/{directorId}?sortBy=year***
5. Получение списка всех режиссеров. ***GET /directors***
6. Получение режиссёра по идентификатору. ***GET /directors/{id}***
7. Удаление режиссера по идентификатору. ***DELETE /directors/{id}***
> Исполнитель: Пожидаев Иван

### Лента событий
Добавлена возможность просмотра последних событий на платформе — добавление в друзья, удаление из друзей, лайки и отзывы, которые оставили друзья пользователя.

Общая лента событий ***GET /feed***

Лента событий пользоателя ***GET /users/{id}/feed***
> Исполнитель: Воложанин Виктор

### Рекомендации
Реализована простая рекомендательную система для фильмов.

***GET /users/{id}/recommendations***
> Исполнитель: Жеребцов Артем

### Общие фильмы
Реализован вывод общих с другом фильмов с сортировкой по их популярности.

***GET /films/common?userId={userId}&friendId={friendId}***
> Исполнитель: Лаптева Евгения

### Удаление фильмов и пользователей
Добавлен функционал для удаления фильма и пользователя по идентификатору.

***DELETE /users/{userId}***

***DELETE /films/{filmId}***
> Исполнитель: Воложанин Виктор

### Вывод самых популярных фильмов по жанру и году
Добавлен функционал для вывода топ-N фильмов по количеству лайков с фильтрацией по двум параметрам:
1. По жанру.
2. За указанный год.

***GET /films/popular?count={limit}&genreId={genreId}&year={year}***
> Исполнитель: Карпова Елизавета

### Поиск
Добавлен функционал для поиска фильмов по названию и по режиссёру.

***GET /fimls/search***

*Параметры строки запроса:*
1. *query* — текст для поиска
2. *by* — может принимать значения *director* (поиск по режиссёру), *title* (поиск по названию), либо оба значения через запятую при поиске одновременно и по режиссеру и по названию.
> Исполнитель: Пожидаев Иван

ER-диаграмма проекта
![](/er_diagram/erd.png)